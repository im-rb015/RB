import React, { useState } from 'react';
import HomeComponent from './HomeComponent';
import FlightListComponent from './FlightListComponent';
import BookingComponent from './BookingComponent';
import ReceiptComponent from './ReceiptComponent';
import flightsData from './flights.json';
import HeaderNavComponent from './HeaderNavComponent';
 
function App() {
  const [currentPage, setCurrentPage] = useState('home');
  const [searchParams, setSearchParams] = useState({});
  const [selectedFlight, setSelectedFlight] = useState(null);
  const [passengerDetails, setPassengerDetails] = useState([]);
 
  const handleSearch = (params) => {
    setSearchParams(params);
    setCurrentPage('flights');
  };
 
  const handleBooking = (flight) => {
    setSelectedFlight(flight);
    setCurrentPage('booking');
  };
 
  const handleBookingCompletion = (details) => {
    setPassengerDetails(details);
    setCurrentPage('receipt');
  };
 
  const renderPage = () => {
    switch (currentPage) {
      case 'home':
        return <HomeComponent onSearch={handleSearch} />;
      case 'flights':
        return (
          <FlightListComponent
            searchParams={searchParams}
            flightsData={flightsData}
            onBook={handleBooking}
            onBack={() => setCurrentPage('home')}
          />
        );
      case 'booking':
        return (
          <BookingComponent
            flight={selectedFlight}
            passengers={searchParams.passengers}
            onComplete={handleBookingCompletion}
          />
        );
      case 'receipt':
        return (
          <ReceiptComponent
            flight={selectedFlight}
            passengerDetails={passengerDetails}
            onBack={() => setCurrentPage('home')}
          />
        );
      default:
        return <HomeComponent onSearch={handleSearch} />;
    }
  };
 
  return (
    <div className="App">
      <HeaderNavComponent />
      {renderPage()}
    </div>
  );
}
 
export default App;
 
 
import React from 'react';
 
function ReceiptComponent({ flight, passengerDetails, onBack }) {
  return (
    <div className="container mt-5">
      <h1 className="text-center">Booking Receipt</h1>
      <div className="card p-3 my-3">
        <h2>Flight Details:</h2>
        <p>Flight Number: {flight.flightNumber}</p>
        <p>Airline: {flight.airline}</p>
      </div>
      <div className="card p-3 my-3">
        <h2>Passenger Details:</h2>
        {passengerDetails.map((details, index) => (
          <div key={index}>
            <h4>Passenger {index + 1}</h4>
            <p>Name: {details.name}</p>
            <p>Gender: {details.gender}</p>
            <p>Phone: {details.phone}</p>
            <p>Email: {details.email}</p>
            <p>Age: {details.age}</p>
            <p>Aadhaar: {details.aadhaar}</p>
            <hr />
          </div>
        ))}
      </div>
      <button className="btn btn-secondary" onClick={onBack}>
        Back to Home
      </button>
    </div>
  );
}
 
export default ReceiptComponent;
 
 
import React, { useState } from 'react';
import { FontAwesomeIcon } from '@fortawesome/react-fontawesome';
import { faArrowRightArrowLeft } from '@fortawesome/free-solid-svg-icons';
// import Card from 'react-bootstrap/Card';
function HomeComponent({ onSearch }) {
  const [source, setSource] = useState('');
  const [destination, setDestination] = useState('');
  const [date, setDate] = useState('');
  const [classVal, setClassVal] = useState("");
  const [adults, setAdults] = useState([]);
  const [children, setChildren] = useState([]);
  const [infants, setInfants] = useState([]);
  // const [passengers, setPassengers] = useState([]);
 
  const handleSearch = () => {
    onSearch({ source, destination, date, classVal, adults, children, infants  });
  };
 
  return (
    <><div className="home-bcg">
 
 
      <div class="container">
        <h3 class="text-center">Find Flights</h3>
        <div class="form-group">
          <div class="row">
            <div class="col-md-5">
 
              <select
                type="text"
                className="form-control my-2"
                placeholder="Source"
                value={source}
                onChange={(e) => setSource(e.target.value)} >
                  <option selected>Source</option>
                  <option>Delhi(DEL)</option>
                  <option>Kolkata(CCU)</option>
                  <option>Mumbai(BOM)</option>
                  <option>Varanasi(VNS)</option>
                  <option>Chennai(MAA)</option>
                  <option>Ahmedabad(AMD)</option>
 
                </select>
            </div>
            <div class=" col-md-2">
 
              <FontAwesomeIcon icon={faArrowRightArrowLeft} className="fa-xl" />
            </div>
 
            <div class="col-md-5">
              <select
                type="text"
                className="form-control my-2"
                placeholder="Destination"
                value={destination}
                onChange={(e) => setDestination(e.target.value)} >
                  <option selected>Destination</option>
                  <option>Mumbai(BOM)</option>
                  <option>Chennai(MAA)</option>
                  <option>Varanasi(VNS)</option>
                  <option>Siliguri(IXB)</option>
                  <option>Lucknow(LKO)</option>
                  <option>Kolkata(CCU)</option>
                  <option>Bengaluru(BLR)</option>
                  <option>Jaipur(JAI)</option>
                  <option>Jaisalmer(JSA)</option>
                  <option>Hyderabad(HYD)</option>
                  <option>Ahmedabad(AMD)</option>
                  <option>Surat(STV)</option>
                  <option>Guwahati(GAU)</option>
                  <option>Ranchi(IXR)</option>
                  <option>Delhi(DEL)</option>
                </select>
            </div>
 
 
          </div>
 
          <div class="row">
            <div class="col-md-6">
              <input
                className="form-control my-2"
                type="date"
                placeholder="Departure Date"
                value={date}
                onChange={(e) => setDate(e.target.value)} />
            </div>
 
 
            <div class="col-md-6">
              {/* <label for="inputState">State</label> */}
              <select id="inputState" class="form-control my-2" value={classVal} onChange={(e) => setClassVal(e.target.value)}>
                <option selected>Select Class</option>
                <option>Economy</option>
                <option>Premium Economy</option>
                <option>Business</option>
                <option>First Class</option>
               
              </select>
 
            </div>
 
          </div>
 
          <div class="row" id="offers">
 
            <div class="col-md-4">
 
              <input
                type="number"
                className="form-control my-2"
                placeholder="Adults"
                id="Adults"
                value={adults}
                onChange={(e) => setAdults(e.target.value)}
                />
 
            </div>
            <div class="col-md-4">
 
              <input
                type="number"
                className="form-control my-2"
                placeholder="Children"
                id="Children"
                value={children}
                onChange={(e) => setChildren(e.target.value)}
                />
 
            </div>
 
            <div class="col-md-4">
 
              <input
                type="number"
                placeholder="Infants"
                className="form-control my-2"
                value={infants}
                onChange={(e) => setInfants(e.target.value)}
                id="InfantTravellers" />
 
            </div>
 
          </div>
 
 
 
 
        </div>
        <div class="d-grid gap-2">
          <button className="btn btn-warning" onClick={handleSearch}>Search</button>
        </div>
 
      </div>
 
 
 
 
    </div>
    <div class="row" id="cards">
        <div class="col-sm-3">
          <div class="card">
            <div class="card-body">
             
              <h5 class="card-title">ICICI Bank</h5>
              <p class="card-text">Upto 10% Cashback on payments through the bank's credit cards or UPI.</p>
              <a href="#" class="btn btn-info">Click to check eligibility</a>
            </div>
          </div>
        </div>
        <div class="col-sm-3">
          <div class="card">
            <div class="card-body">
              <h5 class="card-title">Amazon Pay</h5>
              <p class="card-text">Get guaranteed 7% cashback on payments through Amazon Pay App.</p>
              <a href="#" class="btn btn-info">Check eligibility</a>
            </div>
          </div>
        </div>
 
        <div class="col-sm-3">
          <div class="card">
            <div class="card-body">
              <h5 class="card-title">Cred App</h5>
              <p class="card-text">Get guaranteed cashback on payments made using the Cred App.</p>
              <a href="#" class="btn btn-info">Check eligibility</a>
            </div>
          </div>
        </div>
 
        <div class="col-sm-3">
          <div class="card">
            <div class="card-body">
              <h5 class="card-title">Paytm UPI</h5>
              <p class="card-text">Get exclusive offers on payment through Paytm Wallet and UPI on all bank accounts.</p>
              <a href="#" class="btn btn-info">Check eligibility</a>
            </div>
          </div>
        </div>
 
 
      </div>
     
      <div class="row" id="cards2">
 
      <div class="col-sm-3">
 
      <div class="card images" >
      <img src="../images/jaipur.jpg" class="card-img-top" alt="" style={{width: '100%', display: 'block'}}></img>
       <div class="card-body">
        <p class="card-text">
      <div class="img4">
      {/* <img src="../images/jaipur.jpg" ></img> */}
      </div>
      <div class="d-grid gap-2">
      <a href="#" class="btn btn-secondary">Visit Dharmshala</a>
      </div>
     
 
      </p>
      </div>
      </div>
 
      </div>
 
      <div class="col-sm-3">
 
      <div class="card images" >
      <img src="../images/jaipur.jpg" class="card-img-top" alt="" style={{width: '100%', display: 'block'}}></img>
       <div class="card-body">
        <p class="card-text">
      <div class="img3">
      {/* <img src="../images/jaipur.jpg" ></img> */}
      </div>
      <div class="d-grid gap-2">
      <a href="#" class="btn btn-secondary">Visit Coorg</a>
      </div>
     
 
      </p>
      </div>
      </div>
 
      </div>
 
      <div class="col-sm-3">
 
      <div class="card images" >
      <img src="../images/jaipur.jpg" class="card-img-top" alt="" style={{width: '100%', display: 'block'}}></img>
       <div class="card-body">
        <p class="card-text">
      <div class="img2">
      {/* <img src="../images/jaipur.jpg" ></img> */}
      </div>
      <div class="d-grid gap-2">
      <a href="#" class="btn btn-secondary">Visit Assam</a>
      </div>
     
 
      </p>
      </div>
      </div>
 
      </div>
 
   <div class="col-sm-3">
 
      <div class="card images" >
      <img src="../images/jaipur.jpg" class="card-img-top" alt="" style={{width: '100%', display: 'block'}}></img>
       <div class="card-body">
        <p class="card-text">
      <div class="img1">
      {/* <img src="../images/jaipur.jpg" ></img> */}
      </div>
      <div class="d-grid gap-2">
      <a href="#" class="btn btn-secondary">Visit Jaipur</a>
      </div>
     
 
      </p>
      </div>
      </div>
 
      </div>
 
      </div>
 
      </>
 
  );
}
 
export default HomeComponent;
 
import React, { useState } from 'react';
 
function BookingComponent({ flight, passengers, onComplete }) {
  // Initialize state for storing passenger details (name, gender, phone, email, age, aadhaar)
  const [passengerDetails, setPassengerDetails] = useState(
    Array(passengers).fill({
      name: '',
      gender: '',
      phone: '',
      email: '',
      age: '',
      aadhaar: ''
    })
  );
 
  // Handle changes in the input fields for each passenger
  const handleDetailChange = (index, field, value) => {
    const updatedDetails = [...passengerDetails];
    updatedDetails[index][field] = value;
    setPassengerDetails(updatedDetails);
  };
 
  // Handle the booking completion by passing passenger details to the parent component
  const handleBooking = () => {
    onComplete(passengerDetails);
  };
 
  return (
    <div className="container mt-5">
      <h1 className="text-center">Booking</h1>
      {passengerDetails.map((details, index) => (
        <div key={index}>
          <h4>Passenger {index + 1}</h4>
          <input
            type="text"
            className="form-control my-2"
            placeholder="Name"
            value={details.name}
            onChange={(e) => handleDetailChange(index, 'name', e.target.value)}
          />
         
          {/* Gender dropdown */}
          <select
            className="form-control my-2"
            value={details.gender}
            onChange={(e) => handleDetailChange(index, 'gender', e.target.value)}
          >
            <option value="">Select Gender</option>
            <option value="Male">Male</option>
            <option value="Female">Female</option>
            <option value="Other">Other</option>
          </select>
 
          <input
            type="text"
            className="form-control my-2"
            placeholder="Phone Number"
            value={details.phone}
            onChange={(e) => handleDetailChange(index, 'phone', e.target.value)}
          />
          <input
            type="email"
            className="form-control my-2"
            placeholder="Email"
            value={details.email}
            onChange={(e) => handleDetailChange(index, 'email', e.target.value)}
          />
          <input
            type="number"
            className="form-control my-2"
            placeholder="Age"
            value={details.age}
            onChange={(e) => handleDetailChange(index, 'age', e.target.value)}
          />
          <input
            type="text"
            className="form-control my-2"
            placeholder="Aadhaar Number"
            value={details.aadhaar}
            onChange={(e) => handleDetailChange(index, 'aadhaar', e.target.value)}
          />
          <hr />
        </div>
      ))}
      <button className="btn btn-primary mt-3" onClick={handleBooking}>
        Submit
      </button>
    </div>
  );
}
 
export default BookingComponent;
 
 
import React from 'react';
import { FontAwesomeIcon } from '@fortawesome/react-fontawesome';
import { faArrowRight } from '@fortawesome/free-solid-svg-icons';
 
function FlightListComponent({ searchParams, flightsData, onBook, onBack }) {
  const { source, destination, date, classVal, adults, children, infants } = searchParams;
 
  const filteredFlights = flightsData.filter(flight =>
    flight.source === source && flight.destination === destination && flight.date === date
  );
const x= classVal==='First'?3:(classVal==='Business'?2:(classVal==='Premium Economy'?1.5:1))
  return (
    <div className="container mt-5">
      <h1 className="text-center">Available Flights</h1>
      <ul className="list-group">
        {filteredFlights.map((flight, index) => (
         
          <><li key={index} className="list-group-item d-flex justify-content-between align-items-center">
            <span>
              <img class="logo" src={flight.img}></img>
            </span>
            {flight.source} <FontAwesomeIcon icon={faArrowRight} /> {flight.destination} on {flight.date} - INR{((adults * flight.aprice + children * flight.cprice + infants * flight.iprice) * x)}
            <button className="btn btn-success" onClick={() => onBook(flight)}>Book</button>
          </li><p></p></>
        ))}
      </ul>
      <button className="btn btn-secondary mt-3" onClick={onBack}>Back to Home</button>
    </div>
  );
}
 
export default FlightListComponent;
 
 
